<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="utf-8">
<title>–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –∫–∞—Ä—Ç–∞ –ø–∞—Ä–∫—É –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ—è</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
<script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.min.js"></script>

<style>
body { margin: 0; font-family: sans-serif; display: flex; }
#map { width: 70%; height: 100vh; }
#sidebar { width: 30%; height: 100vh; overflow-y: auto; padding: 15px; background: #f1f1f1; border-left: 2px solid #bbb; }
.location-item { background: #fff; border: 1px solid #ddd; padding: 8px; border-radius: 6px; margin-bottom: 8px; cursor: pointer; }
.location-item:hover { background: #eaf3ff; }
.filter-buttons button { margin: 4px; padding: 7px 12px; border: none; border-radius: 4px; cursor: pointer; background: #ddd; }
.filter-buttons button.active { background: #5aa7ff; color: #fff; }
#theme-toggle { margin: 10px 0; padding: 7px 12px; background: #222; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
</style>
</head>
<body>

<div id="sidebar">
<h2>–û–±‚Äô—î–∫—Ç–∏ –ø–∞—Ä–∫—É</h2>
<button id="theme-toggle">üåô –ù—ñ—á–Ω–∏–π —Ä–µ–∂–∏–º</button>

<h3>–§—ñ–ª—å—Ç—Ä–∏</h3>
<div class="filter-buttons">
  <button id="btn-architecture" onclick="toggleCategory('architecture')">–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞</button>
  <button id="btn-nature" onclick="toggleCategory('nature')">–ü—Ä–∏—Ä–æ–¥–∞</button>
  <button id="btn-history" onclick="toggleCategory('history')">–Ü—Å—Ç–æ—Ä—ñ—è</button>
  <button id="btn-other" onclick="toggleCategory('other')">–Ü–Ω—à–µ</button>
</div>

<hr>
<div id="locations-list"></div>
<hr>

<h3>–ú–∞—Ä—à—Ä—É—Ç–∏</h3>
<button onclick="showRoute('easy')">–õ–µ–≥–∫–∏–π –º–∞—Ä—à—Ä—É—Ç</button>
<button onclick="showRoute('full')">–ü–æ–≤–Ω–∏–π –º–∞—Ä—à—Ä—É—Ç</button>
<button onclick="showRoute('romantic')">–ú–∞—Ä—à—Ä—É—Ç –∑–∞–∫–æ—Ö–∞–Ω–∏—Ö üíô</button>
<button onclick="showRoute('kids')">–î–∏—Ç—è—á–∏–π –º–∞—Ä—à—Ä—É—Ç</button>
<button onclick="showRoute('instagram')">–Ü–Ω—Å—Ç–∞–≥—Ä–∞–º–Ω—ñ –º—ñ—Å—Ü—è üì∏</button>
<hr>
<button onclick="clearRoute()">–û—á–∏—Å—Ç–∏—Ç–∏ –º–∞—Ä—à—Ä—É—Ç</button>
<hr>

<h3>GPS –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è</h3>
<button onclick="locateUser()">–í–∏–∑–Ω–∞—á–∏—Ç–∏ –º–æ—î –º—ñ—Å—Ü–µ</button>
</div>

<div id="map"></div>

<script>
var POINTS = [
  { name: "–ö–æ–ª–æ–Ω–∞–¥–∞ ¬´–õ—É–Ω–∞¬ª", type: "architecture", coords:[49.81353,30.06698], description:"–ö–ª–∞—Å–∏—á–Ω–∞ –∫–æ–ª–æ–Ω–∞–¥–∞, —É–Ω—ñ–∫–∞–ª—å–Ω–∞ –∞–∫—É—Å—Ç–∏–∫–∞, XIX —Å—Ç–æ–ª—ñ—Ç—Ç—è." },
  { name: "–†–æ—Ç–æ–Ω–¥–∞", type:"architecture", coords:[49.81255,30.06555], description:"–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –ø–∞–≤—ñ–ª—å–π–æ–Ω, –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ñ —Å–∫—É–ª—å–ø—Ç—É—Ä–∏, 1800-—Ç—ñ —Ä–æ–∫–∏." },
  { name:"–ö–∏—Ç–∞–π—Å—å–∫–∏–π –º—ñ—Å—Ç–æ–∫", type:"architecture", coords:[49.8130,30.0685], description:"–ú—ñ—Å—Ç–æ–∫ —É —Å—Ö—ñ–¥–Ω–æ–º—É —Å—Ç–∏–ª—ñ —á–µ—Ä–µ–∑ —Å—Ç–∞–≤–æ–∫."},
  { name:"–û—Å—Ç—Ä—ñ–≤ –ú—Ä—ñ—ó", type:"nature", coords:[49.8139,30.0708], description:"–†–æ–º–∞–Ω—Ç–∏—á–Ω–∏–π –æ—Å—Ç—Ä—ñ–≤ —Å–µ—Ä–µ–¥ —Å—Ç–∞–≤–∫—ñ–≤, —É–ª—é–±–ª–µ–Ω–µ –º—ñ—Å—Ü–µ —Ä–æ–¥–∏–Ω–∏ –ë—Ä–∞–Ω–∏—Ü—å–∫–∏—Ö."},
  { name:"–•–æ–ª–æ–¥–Ω–∏–π —Å—Ç–∞–≤", type:"nature", coords:[49.8151,30.0677], description:"–û–¥–∏–Ω –∑ –Ω–∞–π–±—ñ–ª—å—à–∏—Ö —Å—Ç–∞–≤–∫—ñ–≤ –ø–∞—Ä–∫—É, XVIII —Å—Ç–æ–ª—ñ—Ç—Ç—è."},
  { name:"–ü–∞–ª—ñ—î–≤–∞ –≥–æ—Ä–∞", type:"history", coords:[49.8140,30.0649], description:"–ó–∞–ª–∏—à–∫–∏ –∫–æ–∑–∞—Ü—å–∫–∏—Ö —É–∫—Ä—ñ–ø–ª–µ–Ω—å XVII —Å—Ç–æ–ª—ñ—Ç—Ç—è."},
  { name:"–ö–æ–ª–æ–Ω–∞ –ü–µ–ª—ñ–∫–∞–Ω–∞", type:"architecture", coords:[49.8121,30.0669], description:"–¢—Ä—ñ—É–º—Ñ–∞–ª—å–Ω–∞ –∫–æ–ª–æ–Ω–∞ –∑ —Å–∏–º–≤–æ–ª–æ–º –∂–µ—Ä—Ç–æ–≤–Ω–æ—Å—Ç—ñ, XIX —Å—Ç–æ–ª—ñ—Ç—Ç—è."},
  { name:"–ë—É–¥–∏–Ω–æ–∫ —Å–∞–¥—ñ–≤–Ω–∏–∫–∞", type:"other", coords:[49.8152,30.0627], description:"–Ü—Å—Ç–æ—Ä–∏—á–Ω–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞ –±—É–¥—ñ–≤–ª—è –ø–∞—Ä–∫—É."}
];

var map = L.map('map').setView([49.8134,30.0672],15);
var dayLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19}).addTo(map);
var nightLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png');
var nightMode=false;
document.getElementById("theme-toggle").onclick=function(){
  if(nightMode){ map.removeLayer(nightLayer); dayLayer.addTo(map); nightMode=false; }
  else{ map.removeLayer(dayLayer); nightLayer.addTo(map); nightMode=true; }
};

function icon(color){ return L.icon({ iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-"+color+".png", shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png", iconSize:[25,41], iconAnchor:[12,41] }); }
var icons={ architecture:icon("blue"), nature:icon("green"), history:icon("orange"), other:icon("red") };
var layers={ architecture:L.layerGroup().addTo(map), nature:L.layerGroup().addTo(map), history:L.layerGroup().addTo(map), other:L.layerGroup().addTo(map) };
var markers=[];

POINTS.forEach(p=>{
  let m=L.marker(p.coords,{icon:icons[p.type]}).bindPopup("<b>"+p.name+"</b><br>"+p.description).addTo(layers[p.type]);
  markers.push(m);
  let div=document.createElement("div");
  div.className="location-item";
  div.innerHTML=p.name;
  div.onclick=()=>{ map.setView(p.coords,17); m.openPopup(); };
  document.getElementById("locations-list").appendChild(div);
});

var activeCategories={ architecture:true, nature:true, history:true, other:true };
function toggleCategory(c){
  activeCategories[c]=!activeCategories[c];
  let btn=document.getElementById("btn-"+c);
  if(activeCategories[c]){ map.addLayer(layers[c]); btn.classList.add("active"); }
  else{ map.removeLayer(layers[c]); btn.classList.remove("active"); }
}

function locateUser(){ map.locate({setView:true,maxZoom:17}); }
map.on("locationfound", e=>{ L.circle(e.latlng,{radius:e.accuracy}).addTo(map); });

var routeControl=null;
var ROUTES={
  easy:[POINTS[0].coords,POINTS[1].coords,POINTS[2].coords],
  full:POINTS.map(p=>p.coords),
  romantic:[POINTS[1].coords,POINTS[3].coords,POINTS[5].coords],
  kids:[POINTS[7].coords,POINTS[4].coords,POINTS[2].coords],
  instagram:[POINTS[3].coords,POINTS[5].coords,POINTS[1].coords]
};
function showRoute(type){
  if(routeControl) map.removeControl(routeControl);
  routeControl=L.Routing.control({ waypoints:ROUTES[type].map(c=>L.latLng(c)), routeWhileDragging:false, addWaypoints:false }).addTo(map);
}
function clearRoute(){ if(routeControl){ map.removeControl(routeControl); routeControl=null; } }
</script>
</body>
</html>
